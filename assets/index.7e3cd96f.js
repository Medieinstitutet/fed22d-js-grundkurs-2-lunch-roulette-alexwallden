var w=Object.defineProperty;var b=(o,e,t)=>e in o?w(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>(b(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();class h{constructor(e=0,t=0){p(this,"lat");p(this,"lng");this.lat=e,this.lng=t}}const E=()=>new Promise((o,e)=>{navigator.geolocation.getCurrentPosition(t=>o(new h(t.coords.latitude,t.coords.longitude)),t=>{if(t.code===1){o(null);return}e(console.error(t.message))})});let a;const u=document.querySelector("#app"),g=document.querySelector("#btn"),m=document.querySelector("#remove-btn"),S=Array.from(document.querySelectorAll('input[name="range-input"]'));let d=500,c=null;const s=[];S.forEach(o=>{o.addEventListener("click",()=>{const e=document.querySelector('input[name="range-input"]:checked');e&&(d=Number(e.value))})});function L(){s.forEach(o=>{o.setMap(null)}),s.splice(1),s[0].setMap(a),console.log(s)}m==null||m.addEventListener("click",L);function q(){const o={location:c,radius:d,type:["restaurant"]};console.log(d);function e(l,n){if(n===google.maps.places.PlacesServiceStatus.OK&&s.length>0){console.log(s),s.splice(1),console.log(s),console.log(l);for(let r=0;r<l.length;r++){const i=l[r],y=i.geometry.location.lat(),k=i.geometry.location.lng(),v=new h(y,k),M=new google.maps.Marker({position:v});s.push(M)}switch(s.forEach(r=>{r.setMap(a)}),d){case 500:a.setZoom(15);break;case 1e3:a.setZoom(14);break;case 3e3:a.setZoom(12);break;default:a.setZoom(12);break}}}new google.maps.places.PlacesService(a).nearbySearch(o,e)}g==null||g.addEventListener("click",()=>{q()});function f(){const o=document.querySelector("#map");a=new google.maps.Map(o,{zoom:15,center:c});const e=new google.maps.Marker({position:c});s.push(e),s.forEach(t=>{t.setMap(a)})}const P=async()=>{c=await E(),c&&u?(u.innerHTML=`Din position \xE4r ${c.lat} och ${c.lng}`,window.initMap=f,f()):u&&(u.innerHTML="Du beh\xF6ver aktivera platstj\xE4nster")};P().then(()=>{console.log("Appen startad!"),c&&console.log(`Din position \xE4r: ${c.lat} lat, ${c.lng} lng`)}).catch(o=>{console.error(o)});
