var m=Object.defineProperty;var y=(n,t,o)=>t in n?m(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o;var u=(n,t,o)=>(y(n,typeof t!="symbol"?t+"":t,o),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();class p{constructor(t=0,o=0){u(this,"lat");u(this,"lng");this.lat=t,this.lng=o}}const h=()=>new Promise((n,t)=>{navigator.geolocation.getCurrentPosition(o=>n(new p(o.coords.latitude,o.coords.longitude)),o=>{if(o.code===1){n(null);return}t(console.error(o.message))})});let a;const l=document.querySelector("#app");let i=null;function w(n){const t={location:i,radius:n,type:["restaurant"]};function o(e,r){if(r===google.maps.places.PlacesServiceStatus.OK)for(let s=0;s<e.length;s++){console.log(e[s]);const d=e[s],f=new p(d.geometry.location.lat(),d.geometry.location.lng());new google.maps.Marker({position:f,map:a})}}new google.maps.places.PlacesService(a).nearbySearch(t,o)}function g(){a=new google.maps.Map(document.getElementById("map"),{zoom:16,center:i}),new google.maps.Marker({position:i,map:a}),w("1000")}const v=async()=>{i=await h(),i&&l?(l.innerHTML=`Din position \xE4r ${i.lat} och ${i.lng}`,window.initMap=g,g()):l&&(l.innerHTML="Du beh\xF6ver aktivera platstj\xE4nster")};v().then(()=>{console.log("Appen startad")}).catch(n=>{console.error(n)});
